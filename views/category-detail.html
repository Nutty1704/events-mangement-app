<!DOCTYPE html>

<html>
	<head>
		<title><%= category.categoryName %></title>
		<link href="/bootstrap.min.css" rel="stylesheet" />

    </head>
    <body>
        <div class="px-4 pt-3 container-fluid">
            <img src=<%= category.image %> width=100%/>
        </div>

        <div class="container-fluid">
			<div class="my-4 text-black text-center">
                <h1 class="sub-header-text-style"><%= category.name %></h1>
            </div>	
		</div>
        <div class="px-4 pt-3 container-fluid">
            <div class="card shadow">
                <div class="card-body">
                    <div class="mb-3">
                        <h6 class="fw-bold">Category Id</h6>
                        <p><%= category.id %></p>
                    </div>
                    <div class="mb-3">
                        <h6 class="fw-bold">Name</h6>
                        <p><%= category.name %></p>
                    </div>
                    <div class="mb-3">
                        <h6 class="fw-bold">Description</h6>
                        <p><%= category.description %></p>
                    </div>
                    <div class="mb-3">
                        <h6 class="fw-bold">Created Date Time</h6>
                        <p><%= category.date.toLocaleString("en-US") %></p>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="mt-4 px-3 container-fluid">
            <div class="row row-cols-1">
                <div class="col">
                    <table class="table table-hover">
                        <thead>
                          <tr>
                            <th scope="col" style="width: 9%">Id</th>
                            <th scope="col" style="width: 12%">Name</th>
                            <th scope="col" style="width: 14%">Start</th>
                            <th scope="col" style="width: 14%">End</th>
                            <th scope="col" style="width: 13%">Duration</th>
                            <th scope="col" style="width: 6%">Is Active</th>
                            <th scope="col" style="width: 9%">Capacity</th> 
                            <th scope="col" style="width: 7%">Tickets Avaliable</th>
                            <th scope="col" style="width: 8%">Categories</th>
                            <th scope="col" style="width: 8%">Actions</th>                                      
                          </tr>
                        </thead>
                        
                        <tbody>
                            <% for (let i = 0; i < events.length; i++) { %>
                                <tr>
                                    <th scope="row"><%= events[i].id %></th>
                                    <td><%= events[i].name %></td>
                                    <td><%= events[i].startDateTime.toLocaleString("en-US")%></td>
                                    <td><%= events[i].getEndDateTime().toLocaleString("en-US") %></td>
                                    <td><%= events[i].getDurationString() %></td>
                                    <td><input class="form-check-input" type="checkbox" value="" <%= events[i].isActive ? 'checked': '' %> disabled </td>
                                    <td><%= events[i].capacity %></td>
                                    <td><%= events[i].ticketsAvailable %></td>
                                    <td><%= events[i].categories %></td>
                                    <td><a type="button" class="btn btn-primary" href="/33048126/event/<%=events[i].id%>">View</a></td>
                                </tr>
                            <% } %>
                            
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </body>
</html>